<!DOCTYPE html>
<html lang="en" layout:decorate="layout/main.html" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
	<meta charset="UTF-8">

	<link crossorigin="anonymous"
	      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	      rel="stylesheet">

	<title>Details</title>
</head>
<body>

<div class="container" layout:fragment="fragment">
	<form method="post" th:action="@{'/car/update-car'}">
		<input class="form-control" name="id" th:value="${car.getId()}" type="hidden">

		<input class="form-control" name="model" th:value="${car.getModel()}" type="text">
		<br>
		<input class="form-control" name="year" th:value="${car.getYear()}" type="number">
		<br>
		<input class="form-control" name="price" th:value="${car.getPrice()}" type="number">

		<label class="form-label text-dark" style="margin: 7px">Owner:</label>

		<select class="form-select" name="ownerId">
			<option th:each="owner : ${owners}" th:if="${currentOwnerId == owner.getId()}"
			        th:text="${owner.getFullName()}"
			        th:value="${owner.getId()}"></option>


			<option th:each="owner : ${owners}" th:if="${currentOwnerId != owner.getId()}"
			        th:text="${owner.getFullName()}"
			        th:value="${owner.getId()}"></option>
		</select>

		<label class="form-label text-dark" style="margin: 7px">Country:</label>
		<div class="form-check" style="margin-left: 7px" th:each="country : ${car.getCountries()}">
			<input checked class="form-check-input" name="countryId"
			       th:value="${country.getId()}" type="checkbox">
			<label class="form-check-label" th:text="${country.getName()}"></label>
		</div>

		<div class="form-check" style="margin-left: 7px" th:each="country : ${countries}">
			<input class="form-check-input" name="countryId" th:value="${country.getId()}"
			       type="checkbox">
			<label class="form-check-label" th:text="${country.getName()}"></label>
		</div>

		<div style="text-align: center; margin-top: 15px">
			<button class="nav-link text-light bg-primary mt-2"
			        style="border-radius: 7px; width: 90px">Update Car
			</button>
		</div>
	</form>

	<form method="post" th:action="@{'/car/delete-car'}">
		<input class="form-control" name="id" th:value="${car.getId()}" type="hidden">

		<div style="text-align: center">
			<button class="nav-link text-light bg-danger mt-2"
			        style="border-radius: 7px; width: 90px">Delete Car
			</button>
		</div>
	</form>
</div>

<script crossorigin="anonymous"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>